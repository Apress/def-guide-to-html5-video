<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Guide to HTML5 video: chapter 8: example 3</title>
  </head>
  <body>
    <h1>Chapter 8: example 3</h1>
      <video src="video1.ogv" controls>
      </video>
      <div id="display"></div>
      <script type="text/javascript">
        var video = document.getElementsByTagName("video")[0];
        var display = document.getElementById("display");
        video.addEventListener("loadedmetadata", getMetadata, false);
        
        function getMetadata() {
          channels = video.mozChannels;
          rate     = video.mozSampleRate;
          fbLength = video.mozFrameBufferLength;
          duration = fbLength / (channels * rate);
          display.innerHTML = "Channels: " + channels +
                              "<br/>Rate: " + rate +
                              "<br/>Framebuffer length: " + fbLength +
                              "<br/>Framebuffer seconds: " + duration;
        }
      </script>
  </body>
</html>